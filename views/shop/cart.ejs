<%- include('../includes/head.ejs') %>
    </head>

    <body>
        <%- include('../includes/navigation.ejs') %>

        <div class="my-5 px-10 mx-auto md:my-10 md:px-40">
<div class="overflow-hidden bg-gray-200 shadow sm:rounded-lg">
    <div class="px-4 py-5 sm:px-6 bg-gray-200">
      <h3 class="text-lg font-medium leading-6 text-gray-900">Your cart</h3>
    </div>
    <div class="border-t border-gray-200 px-6">
        <% if (products.length > 0) { %>
            <% products.forEach(p => { %>
      <dl>
        <div class="bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-4 sm:gap-4 sm:px-6 ">
          <dt class="text-sm font-medium text-gray-500"><%= p.productId.title %></dt>
          <dd class="mt-1 text-sm text-gray-900 ">Quantity: <%= p.quantity %></dd>
          <dd class="mt-1 text-sm text-gray-900 ">Total price: <%= (p.productId.price)*(p.quantity) %>$</dd>
          <form action="/cart-delete-item" method="POST">
            <input type="hidden" value="<%= p.productId._id %>" name="productId">
            <button type="submit" class="  w-auto  rounded-md border border-transparent bg-indigo-600 py-2 px-4 text-sm font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2">
                Remove 
            </button>
          </form>
        </div>
      </dl>
      <br>
      <% }) %>
      <form action="/orders" method="POST">
        <button type="submit" class=" mx-auto  w-full  rounded-md border border-transparent bg-indigo-600 py-2 px-4 text-sm font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2">
          ORDER!
      </button>
      </form>
      
      <% } else { %>
        <h1 class="text-center py-5 mb-5 bg-white">No Products 
          in Cart!</h1>
    <% } %>
    </div>
  </div>
</div>